# -*- Mode: Python -*- vi:si:et:sw=4:sts=4:ts=4:syntax=python

class Recipe(recipe.Recipe):
    name = 'mda-lv2'
    version = '1.2.4'
    licenses = [{License.GPLv3Plus: ['COPYING']}]
    btype = BuildType.CUSTOM
    stype = SourceType.GIT
    remotes = {'origin': 'https://gitlab.com/drobilla/mda-lv2.git'}
    commit = 'a065b13'
    deps = ['lv2']

    def configure(self):
        shell.call ('cd ' + os.path.join(self.build_dir) + ' && ./waf configure --prefix=' + self.config.prefix)

    def install(self):
        shell.call ('cd ' + os.path.join(self.build_dir) + ' && ./waf build install')

    def clean(self):
        shell.call ('cd ' + os.path.join(self.build_dir) + ' && ./waf clean')

