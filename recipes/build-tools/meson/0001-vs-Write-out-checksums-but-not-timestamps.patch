From cba72ac0d542ec5ece716d945b9072dc0a80a9ca Mon Sep 17 00:00:00 2001
From: Nirbheek Chauhan <nirbheek@centricular.com>
Date: Sun, 12 Jan 2020 19:45:16 +0530
Subject: [PATCH] vs: Write out checksums but not timestamps

This is upstream in 0.54.x:
https://github.com/mesonbuild/meson/pull/6451

Checksums issue was discovered in:
https://gitlab.freedesktop.org/gstreamer/cerbero/issues/221
---
 mesonbuild/compilers/c.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mesonbuild/compilers/c.py b/mesonbuild/compilers/c.py
index d47694e..ea9b728 100644
--- a/mesonbuild/compilers/c.py
+++ b/mesonbuild/compilers/c.py
@@ -1389,7 +1389,7 @@ class VisualStudioCCompiler(CCompiler):
             return ['link']
 
     def get_linker_always_args(self):
-        return ['/nologo']
+        return ['/nologo', '/release', '/Brepro']
 
     def get_linker_output_args(self, outputname):
         return ['/OUT:' + outputname]
-- 
2.24.1.windows.2

